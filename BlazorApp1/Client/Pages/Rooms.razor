@page "/rooms"
@using BlazorApp1.Shared.Models

<h3>Rooms</h3>

<ul>
    @foreach (Room r in rooms)
    {
        <li>
            @r.Name
            @if (r.Description != null)
            {
                <span>(@r.Description)</span>
            }
        </li>
    }
</ul>

<button type="button" @onclick="@ToggleNewRoomInterface" hidden="@showNewRoomUI">New Room</button>

@if (showNewRoomUI)
{
    <EditForm Model="@newRoom" OnValidSubmit="AddNewRoom">
        <div class="form-group">
            @if (ErrorMessage != null && ErrorMessage.Length > 0)
            {
                <div class="alert alert-warning" role="alert">
                    @ErrorMessage
                </div>
            }

            <div class="form-group row">
                <label for="newName" class="col-sm-3">This one:</label>
                <InputText id="newName" class="form-control col-sm-8" @bind-Value="@newRoom.Name" />
            </div>

            <div class="form-group row">
                <label for="thisOne" class="col-sm-3">This one:</label>
                <InputText id="thisOne" class="form-control col-sm-8" @bind-Value="@newRoom.Name" />
            </div>

            @*<div class="form-group">
                    <input class="form-control" type="text" placeholder="Name" @bind-Value="@newRoom.Name" />
                </div>
                <div class="form-group">
                    <input class="form-control" type="number" placeholder="Max Capacity" @bind-value="@newRoom.MaxCapacity" min="0" />
                </div>
                <div class="form-group">
                    <textarea class="form-control" rows="3" cols="30" placeholder="Description" @bind="@newRoom.Description" @bind:event="oninput" />
                </div>*@

            <div class="form-group">
                <button class="btn btn-warning" type="button" @onclick="@AddNewRoom">Save</button>
            </div>

        </div>
    </EditForm>
}
